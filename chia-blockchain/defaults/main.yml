---
# `source` or `apt`
chia_installation_method: source
# Install CLI only by default
chia_apt_package: chia-blockchain-cli

# chia_service_base will be used to make systemd files unique, in case multiple instances of chia run on the same host
# <chia_service_base>-daemon.service
# <chia_service_base>-full-node.service
# etc
chia_service_base: chia
start_on_boot: true
start_now: true
# If set to true, a script will be put in place to generate new certs on first boot
# so that nodes launched from AMIs all have unique node IDs and can connect to each other
chia_cloudinit_new_certs: false

# This is the list of systemd services that will be installed by default
# daemon is required, and chia will fail to run properly without it
# by default, all possible services are installed, even if they are not all enabled
chia_all_services:
  - daemon
  - crawler
  - data-layer
  - data-layer-http
  - farmer
  - full-node
  - harvester
  - hw-vdf
  - introducer
  - seeder
  - timelord
  - timelord-launcher
  - wallet

# This is the list of services that should be enabled on boot and started now (if set to start now)
# Daemon never needs to be listed here, as it is a dependency of the other services
# Defaults to just starting a full node
chia_enabled_services:
  - full-node

user: ubuntu
group: ubuntu

chia_root: "/home/ubuntu/.chia"
chia_root_to_env: true

# Set the following vars if you need to run chia init with a specific CA
chia_ca_crt: ""
chia_ca_key: ""
chia_private_ca_crt: ""
chia_private_ca_key: ""

# The name of the bucket that blockchain backups can be found in
blockchain_backup_bucket: "blockchain-backup-bucket-name"
download_blockchain_db: true
download_crawler_db: false
crawler_segment: "default" # Only used for the crawler DB backup right now
db_version: v2
wallet_db_version: v2

# This gets templated into the top level config
# It will be used to determine how the RPC services, etc bind to an interface
# Typically this is also used to tell other services the hostname/IP of other services, but if binding the top level
# to 0.0.0.0 (to make the RPCs public), we need a second variable for the service to service hostname (chia_service_hostname)
chia_top_level_hostname: "localhost"
# This is the hostname the services use to reach each other on (farmer -> node, etc)
chia_service_hostname: "localhost"
chia_farmer_full_node_peer_host: "localhost"
chia_timelord_full_node_peer_host: "localhost"
chia_wallet_full_node_peer_host: "localhost"

# What network we're running on
# This impacts the backup we retrieve from S3 as well as whether or not we configure for testnet
# This is templated directly into config.yaml as well, so needs to exactly match the network name
network: "mainnet"
full_node_port: 8444
chia_full_node_rpc_port: 8555
introducer_port: 8444
target_outbound_peer_count: 8
target_peer_count: 80
log_level: "ERROR"

# Other ports, usually only needing to be changed if multiple instances are on the same host
chia_daemon_port: 55400
chia_harvester_port: 8448
chia_harvester_rpc_port: 8560
chia_farmer_port: 8447
chia_farmer_rpc_port: 8559
chia_timelord_launcher_port: 8000
chia_timelord_port: 8446
chia_wallet_port: 8449
chia_wallet_rpc_port: 9256
chia_ui_port: 8222
chia_data_layer_port: 8561
chia_data_layer_rpc_port: 8562
chia_data_layer_host_port: 8575

# IPv4/IPv6 network addresses and CIDR blocks allowed to connect even when target_peer_count has been hit.
# exempt_peer_networks: ["192.168.0.3", "192.168.1.0/24", "fe80::/10", "2606:4700:4700::64/128"]
exempt_peer_networks: []

dns_servers:
  - "dns-introducer.chia.net"

introducer_peer:
  host: introducer.chia.net
  port: 8444
  enable_private_networks: false

application: chia-blockchain
# Currently only used for a vector label
# @TODO should likely update this in the future to generate this vector label (if actually used) with the enabled services
component: node

# Group Tag is used to add context to the installation, metrics, etc when the application, network, component, and ref
# are otherwise identical
group_tag: default

repo_url: "https://github.com/Chia-Network/chia-blockchain.git"
repo_ref: "latest"

# Keys to add to chia
keys: []
#  - "my words go here"
#  - "my second words go here"

# Harvester Settings
plot_directories: []
recursive_plot_scan: false

# Pool Settings
pool_xch_target_address: ""
pool_list: []

# Farmer Settings
farmer_xch_target_address: ""

# Wallet Settings
spam_filter_after_n_txs: 200
xch_spam_amount: 1000000

# This is the network overrides section of config.yaml
# When this runs, we attempt to pull the network overrides from the ref specified, but
# have a few defaults here just in case
network_overrides:
  constants:
    mainnet:
      NETWORK_TYPE: 0
      GENESIS_CHALLENGE: ccd5bb71183532bff220ba46c268991a3ff07eb358e8255a65c30a2dce0e5fbb
      GENESIS_PRE_FARM_POOL_PUZZLE_HASH: "d23da14695a188ae5708dd152263c4db883eb27edeb936178d4d988b8f3ce5fc"
      GENESIS_PRE_FARM_FARMER_PUZZLE_HASH: "3d8765d3a597ec1d99663f6c9816d915b9f68613ac94009884c4addaefcce6af"
    testnet10:
      AGG_SIG_ME_ADDITIONAL_DATA: ae83525ba8d1dd3f09b277de18ca3e43fc0af20d20c4b3e92ef2a48bd291ccb2
      DIFFICULTY_CONSTANT_FACTOR: 10052721566054
      DIFFICULTY_STARTING: 30
      EPOCH_BLOCKS: 768
      GENESIS_CHALLENGE: ae83525ba8d1dd3f09b277de18ca3e43fc0af20d20c4b3e92ef2a48bd291ccb2
      GENESIS_PRE_FARM_FARMER_PUZZLE_HASH: 3d8765d3a597ec1d99663f6c9816d915b9f68613ac94009884c4addaefcce6af
      GENESIS_PRE_FARM_POOL_PUZZLE_HASH: d23da14695a188ae5708dd152263c4db883eb27edeb936178d4d988b8f3ce5fc
      MEMPOOL_BLOCK_BUFFER: 10
      MIN_PLOT_SIZE: 18
      NETWORK_TYPE: 1
  config:
    mainnet:
      address_prefix: "xch"
      default_full_node_port: 8444
    testnet10:
      address_prefix: "txch"
      default_full_node_port: 58444

# If set 'True', the timelord will create compact proofs of time, instead of
# extending the chain.
sanitizer_mode: "False"

# Number of VDF client processes to keep alive in the local machine.
timelord_launcher_host: localhost
process_count: 3
vdf_client_ips:
  - localhost
  - 127.0.0.1
vdf_server_hostname: localhost

# 'send_uncompact_interval' seconds. Set to 0 if you don't use this feature. Recommended is 300
send_uncompact_interval: 0

# HW VDF Config
chia_enable_hw_vdf: false
chia_hw_vdf_version: latest
chia_hw_vdf_vdf_threads: 16
chia_hw_vdf_proof_threads: 14
chia_hw_vdf_freq: 1475
chia_hw_vdf_mask: 1

# Seeder Config
minimum_height: 240000
bootstrap_peers:
  - node.chia.net
domain_name: dns-introducer.chia.net.
nameserver: chia.net.
ttl: 300
soa_rname: "hostmaster.chia.net."

# Vector/Loki Related
add_vector_config: false
loki_endpoint: http://localhost:3100
loki_basic_auth: false
loki_basic_auth_username: ""
loki_basic_auth_password: ""
vector_start_now: true

# monit service related
chia_add_healthcheck_service: true
add_monit_config: true
monit_start_now: true
# How many times the port check needs to fail before monit will restart the service
chia_monit_failure_threshold: 3

# Connect to certain peers on a given interval
chia_periodic_connect_interval:
  minute: "*/5"
  hour: "*"
chia_periodic_connect_peers: []
